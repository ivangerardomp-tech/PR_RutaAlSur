<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <title>Captura con PR</title>

    <link rel="stylesheet" href="styles.css">

    <script defer src="kml_loader.js"></script>
    <script defer src="pr_finder.js"></script>
    <script defer src="script.js"></script>
</head>

<body>

    <!-- Contenedor del video + HUD -->
    <div class="video-wrapper">
        <video id="video" autoplay playsinline muted></video>

        <!-- HUD en vivo -->
        <div id="hud">
            <div id="hud-text">Inicializando‚Ä¶</div>
        </div>
    </div>

    <!-- Controles -->
    <div class="controls-row">
        <button id="btnConfig">‚öôÔ∏è</button>
        <button id="btnGallery" disabled>üñºÔ∏è</button>
        <button id="btnCapture" disabled>üì∏</button>
    </div>

    <canvas id="canvas" style="display:none"></canvas>

    <!-- Notificaci√≥n interna -->
    <div id="toast"></div>

    <!-- Galer√≠a de fotos tomadas -->
    <div id="galleryOverlay">
        <div class="gallery-content">
            <button id="btnCloseGallery">‚úï</button>
            <h3>Fotos tomadas</h3>
            <div id="galleryGrid"></div>
            <div id="galleryPreview">
                <img id="galleryPreviewImg" src="" alt="Vista previa">
            </div>
        </div>
    </div>

    <!-- Configuraci√≥n del HUD -->
    <div id="settingsOverlay">
        <div class="settings-content">
            <button id="btnCloseSettings">‚úï</button>
            <h3>Configurar HUD</h3>
            <form id="settingsForm">
                <label>
                    <input type="checkbox" id="chkDate" checked>
                    Fecha y hora
                </label>
                <label>
                    <input type="checkbox" id="chkLatLng" checked>
                    Latitud y longitud
                </label>
                <label>
                    <input type="checkbox" id="chkTramo" checked>
                    Tramo
                </label>
                <label>
                    <input type="checkbox" id="chkPR" checked>
                    PR
                </label>
                <label class="settings-text-label">
                    Texto adicional (m√°x. 30 caracteres):
                    <input type="text" id="txtCustom" maxlength="30" placeholder="Opcional">
                </label>
                <button type="submit" id="btnSaveSettings">Guardar</button>
            </form>
        </div>
    </div>
</body>
</html>
